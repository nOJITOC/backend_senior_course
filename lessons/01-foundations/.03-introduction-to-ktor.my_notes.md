### Мои заметки по уроку: Введение в Ktor

**Цель:** Дать пользователю полное представление о Ktor как фреймворке для бэкенда на Kotlin, его основных преимуществах и архитектурных концепциях, а также подготовить к написанию первого Ktor-приложения.

**Ключевые концепции Ktor:**

1.  **Нативный Kotlin и асинхронность:**
    *   Создан JetBrains специально для Kotlin.
    *   Полностью асинхронный и неблокирующий благодаря **Kotlin Coroutines**. Это позволяет эффективно обрабатывать множество одновременных запросов с меньшим количеством ресурсов.
    *   "Coroutines-first" подход упрощает написание параллельного кода.

2.  **Легковесность и модульность:**
    *   Не фреймворк "все-в-одном", а набор библиотек.
    *   Вы подключаете только те "фичи" (плагины), которые вам нужны. Это минимизирует размер приложения и его зависимости.
    *   Примеры "фич": Routing, ContentNegotiation, Authentication, WebSockets, Metrics.

3.  **Гибкость и непредвзятость (Unopinionated):**
    *   Ktor не навязывает конкретных решений для логирования, шаблонизаторов, ORM, Dependency Injection и т.д.
    *   Это дает свободу выбора наиболее подходящих библиотек для каждой задачи.
    *   Хорошо интегрируется с такими DI-фреймворками, как Koin, и теперь имеет свой встроенный DI-плагин.

4.  **Разработан JetBrains:**
    *   Официальный фреймворк для Kotlin, что гарантирует отличную поддержку, актуальность и интеграцию с инструментами (IntelliJ IDEA).

5.  **Тестируемость:**
    *   Имеет мощный модуль для тестирования (`ktor-server-test-host`), который позволяет легко эмулировать HTTP-запросы без запуска реального сервера.

**Основные компоненты Ktor-приложения:**

*   **`Application`:** Центральный объект, представляющий наше приложение.
*   **`Engine`:** Сервер, который принимает HTTP-зазапросы (например, Netty, Jetty, CIO). Мы используем Netty.
*   **`Module`:** Функция-расширение для `Application` (например, `fun Application.module() { ... }`), где мы настраиваем маршрутизацию, плагины и логику. Наше приложение может состоять из нескольких модулей.
*   **`Features` (Плагины):** Функции-расширения, которые добавляют функциональность в `Application` (например, `install(Routing)`).

**План урока:**
1.  **Теоретический блок:** Введение в Ktor, его основные характеристики и преимущества (Kotlin-native, асинхронность, модульность, гибкость).
2.  **Вопрос:** Сравнить Ktor с аналогами на JVM (например, Spring WebFlux) с точки зрения Android-разработчика, уже знакомого с Kotlin Coroutines.
3.  **Теоретический блок:** Основные компоненты Ktor-приложения (Application, Engine, Module, Features) и их взаимосвязь.
4.  **Вопрос:** Описать, как базовые компоненты Ktor-приложения (Application, Module, Features, Engine) связаны друг с другом и как они будут использоваться в нашем проекте.
5.  **Практическое задание:** Создать первый эндпоинт в нашем Ktor-проекте.

Начнем с обзора Ktor.